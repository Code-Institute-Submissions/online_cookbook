{% extends 'base.html' %} {% block content %}
     <!-- Page Content -->
         {% with messages = get_flashed_messages(category_filter=['success']) %}
             {% if messages %}
                {%for msg in messages%}
                   <div class="alert alert-success alert-dismissible mb-3" role="alert">
                        <span>{{msg}}</span>
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                   </div>
                {% endfor%}
              {% endif %}
        {% endwith %}

      <div class="container">
        <div class="row"> 
          <div class="col-lg-3"> 
            <div class="list-group">
              <a href="{{url_for('get_recipes_by_category',category_name='Deserts')}}" class="list-group-item">Deserts</a>
              <a href="{{url_for('get_recipes_by_category',category_name='Main Dishes')}}" class="list-group-item">Main Dishes</a>
              <a href="{{url_for('get_recipes_by_category',category_name='Drinks')}}" class="list-group-item">Drinks</a>
            </div>  
          </div>
          <!-- /.col-lg-3 -->
          <div class="col-lg-9"> 
            <div class="row"> 
           
            {% for recipe in recipes%} 
             {%if recipe.category_name == "Deserts"%} 
              <div class="col-lg-4 col-md-6 mb-4"> 
                <div class="card h-100"> 
                  <a href="{{url_for('get_recipe', recipe_id=recipe._id)}}">
                    <img class="card-img-top" src="{{recipe.recipe_image}}" alt="recipe image"/></a>
                  <div class="card-body">
                    <h4 class="card-title">
                      <a href="{{url_for('get_recipe', recipe_id=recipe._id)}}">{{recipe.recipe_title}}</a>
                    </h4> 
                    <p class="card-text">
                      {{recipe.recipe_description}}
                    </p>
                    <h6>Recipe by :<small> {{recipe.recipe_owner}}</small></h6>
                  </div>
                  <div class="card-footer">
                     <a href="{{url_for('get_recipe', recipe_id=recipe._id)}}" class="btn bg_cl">View Recipe</a>
                  </div> 
                </div> 
              </div>
            {%elif recipe.category_name == "Main Dishes" %}
              <div class="col-lg-4 col-md-6 mb-4"> 
                <div class="card h-100"> 
                  <a href="{{url_for('get_recipe', recipe_id=recipe._id)}}">
                    <img class="card-img-top" src="{{recipe.recipe_image}}" alt="recipe image"/></a>
                  <div class="card-body">
                    <h4 class="card-title">
                      <a href="{{url_for('get_recipe', recipe_id=recipe._id)}}">{{recipe.recipe_title}}</a>
                    </h4> 
                    <p class="card-text">
                      {{recipe.recipe_description}}
                    </p>
                    <h6>Recipe by :<small> {{recipe.recipe_owner}}</small></h6>
                  </div>
                  <div class="card-footer">
                     <a href="{{url_for('get_recipe', recipe_id=recipe._id)}}" class="btn bg_cl">View Recipe</a>
                  </div> 
                </div> 
              </div>
              {% else %}
                <div class="col-lg-4 col-md-6 mb-4"> 
                <div class="card h-100"> 
                  <a href="{{url_for('get_recipe', recipe_id=recipe._id)}}">
                    <img class="card-img-top" src="{{recipe.recipe_image}}" alt="recipe image"/></a>
                  <div class="card-body">
                    <h4 class="card-title">
                      <a href="{{url_for('get_recipe', recipe_id=recipe._id)}}">{{recipe.recipe_title}}</a>
                    </h4> 
                    <p class="card-text">
                      {{recipe.recipe_description}}
                    </p>
                    <h6>Recipe by :<small> {{recipe.recipe_owner}}</small></h6>
                  </div>
                  <div class="card-footer">
                     <a href="{{url_for('get_recipe', recipe_id=recipe._id)}}" class="btn bg_cl">View Recipe</a>
                  </div> 
                </div> 
              </div>
        
            {% endif %}
        {% endfor %}  
            </div>
            <!-- /.row -->
          </div>
          <!-- /.col-lg-9 -->
        </div>
        <!-- /.row -->
      </div>
      <!-- /.container -->
    <script>
      $('.alert').alert()
    </script>
{% endblock%}